<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>SVG path tile rendering demo</title>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<svg>
			<path d="m16.5084928 48.2262475 0.0003635 0.0008227 0.0000673 0.0001525 0.0000707 0.0001602 0.0003836 0.0008663 0.0000847 0.0001976 0.0004275 0.0009651 0.000158 0.0003571 0.0004387 0.0009911 0.0000574 0.0001334 0.0000586 0.0001458 0.0000466 0.0001253 0.0000394 0.0001302 0.0000293 0.0001272 0.0000198 0.0001147 0.0000114 0.0001157 0.0000058 0.0001258 -0.0000044 0.0001346 -0.0000115 0.0001192 -0.0000229 0.0001321 -0.0000281 0.0001194 -0.0000351 0.000114 -0.0000429 0.0001168 -0.0000516 0.0001178 -0.000065 0.0001294 -0.0000853 0.0001391 -0.0000815 0.0001181 -0.0000983 0.0001252 -0.0001009 0.0001153 -0.0001089 0.0001093 -0.0001052 0.0000966 -0.000129 0.0001094 -0.000142 0.0001061 -0.0001738 0.00012 -0.0001638 0.0000987 -0.0001815 0.0000976 -0.0001984 0.0000966 -0.0002256 0.0000985 -0.0001945 0.0000748 -0.000216 0.0000741 -0.0001855 0.0000562 -0.0001877 0.0000505 -0.0002434 0.0000555 -0.0001957 0.0000382 -0.0001945 0.0000326 -0.0002256 0.0000296 -0.0002351 0.0000238 -0.0002308 0.0000149 -0.0002661 0.0000082 -0.0002236 -0.0000012 -0.0002619 -0.0000083 -0.0004067 -0.0000213 -0.0009487 -0.0000528 -0.000892 -0.0000497 -0.0011964 -0.0000686 -0.000844 -0.0000438 -0.0008736 -0.0000479 -0.0011878 -0.0000658 -0.0007689 -0.000045 -0.0010591 -0.0000571 -0.0022609 -0.0001311 -0.0015683 -0.0000887 -0.001144 -0.0000647 -0.0010474 -0.0000551 -0.0004926 -0.0000287 -0.0005035 -0.0000329 -0.0007385 -0.0000638 -0.0006106 -0.0000614 -0.0005398 -0.0000273 -0.0007067 -0.000042 -0.0004839 -0.0000245 -0.0001021 -0.0000062 -0.0005251 -0.000032 -0.0005496 -0.0000307 -0.0009114 -0.0000508 -0.000869 -0.0000485 -0.000134 -0.0000073 -0.0007484 -0.0000409 -0.0001832 -0.0000129 -0.0001776 -0.0000188 -0.0001561 -0.0000134 -0.0001562 -0.0000216 -0.0001612 -0.0000271 -0.0001601 -0.00003 -0.0001672 -0.0000334 -0.0001562 -0.0000378 -0.0002401 -0.0000666 -0.0002375 -0.0000796 -0.0002884 -0.0001079 -0.0002853 -0.0001298 -0.0002966 -0.0001565 -0.0001806 -0.0001132 -0.0001763 -0.0001195 -0.0002052 -0.0001641 -0.0001692 -0.0001512 -0.0001647 -0.00017 -0.0001301 -0.000158 -0.0001481 -0.0002145 -0.0001075 -0.0001888 -0.0001159 -0.0002365 -0.0016853 -0.0038262 -0.0001188 -0.0002756 -0.000197 -0.0004943 -0.0001347 -0.0002853 -0.0001612 -0.0002816 -0.0001909 -0.0002991 -0.0002283 -0.0003347 -0.0002308 -0.0003164 -0.0001981 -0.0002544 -0.0002745 -0.0003422 -0.0003401 -0.0004374 -0.0003033 -0.0003833 -0.0003121 -0.0003977 -0.0000888 -0.0001147 -0.0002017 -0.0002505 -0.0001687 -0.0002175 -0.0002357 -0.0002922 -0.0002513 -0.0003206 -0.0000397 -0.0000507 -0.0002751 -0.0003474 -0.0001815 -0.0002314 -0.0001629 -0.0002045 -0.0000624 -0.0000774 -0.0001274 -0.000154 -0.0001302 -0.0001671 -0.0001767 -0.0002108 -0.0001346 -0.0001475 -0.0001187 -0.0001179 -0.0001155 -0.0001039 -0.0001019 -0.0000844 -0.0000828 -0.0000644 -0.0001247 -0.0000913 -0.0001319 -0.0000887 -0.0001287 -0.0000778 -0.0001984 -0.0001042 -0.0002154 -0.0001032 -0.0002445 -0.0000957 -0.0001929 -0.0000675 -0.0002281 -0.0000707 -0.0002029 -0.0000516 -0.0001671 -0.0000368 -0.0001919 -0.0000368 -0.0002377 -0.0000353 -0.000204 -0.0000223 -0.0002088 -0.0000168 -0.0002472 -0.0000098 -0.0002422 -0.0000011 -0.0002515 0.0000111 -0.0002534 0.0000207 -0.0001446 0.0000164 -0.0001861 0.0000247 -0.0002514 0.0000358 -0.0005479 0.0000809 -0.0003254 0.000047 -0.0005113 0.0000772 -0.0003298 0.0000477 -0.0009299 0.0001346 -0.0005001 0.0000748 -0.0001825 0.0000228 -0.0004564 0.0000571 -0.0005389 0.0000644 -0.0004242 0.000051 -0.0002822 0.0000364 -0.0003736 0.0000456 -0.0004105 0.0000525 -0.0002251 0.0000313 -0.0002372 0.0000384 -0.0003608 0.0000723 -0.000347 0.0000788 -0.0006766 0.000174 -0.0004503 0.0001138 -0.0003193 0.0000741 -0.000292 0.0000649 -0.0004012 0.0000797 -0.0002941 0.000054 -0.0003402 0.0000572 -0.0003007 0.0000417 -0.0002399 0.0000313 -0.0003171 0.0000383 -0.0003712 0.0000363 -0.000498 0.0000396 -0.0001455 0.0000087 -0.0001271 0.0000063 -0.0005664 0.0000206 -0.0003781 0.0000026 -0.000376 -0.0000013 -0.0003915 -0.0000103 -0.0004957 -0.0000282 -0.000338 -0.0000247 -0.0007282 -0.0000656 -0.0004435 -0.0000406 -0.0002123 -0.0000231 -0.0002119 -0.00003 -0.000183 -0.0000279 -0.0001811 -0.000033 -0.0001391 -0.0000275 -0.0001386 -0.0000323 -0.0002707 -0.0000692 -0.0003397 -0.0001001 -0.0001999 -0.0000708 -0.000182 -0.0000723 -0.0001503 -0.0000613 -0.0001528 -0.0000668 -0.0001881 -0.0000835 -0.0008465 -0.0003724 -0.0006494 -0.0002857 -0.0004326 -0.0001947 -0.0001801 -0.000083 -0.0001612 -0.0000853 -0.0001831 -0.0001033 -0.0001874 -0.0001154 -0.0001273 -0.0000896 -0.000119 -0.0000896 -0.0001343 -0.0001071 -0.0001367 -0.0001219 -0.000154 -0.0001564 -0.0001017 -0.0001178 -0.0000932 -0.0001186 -0.0000894 -0.0001262 -0.0000854 -0.0001433 -0.0001135 -0.0002156 -0.0000501 -0.0001127 -0.0000881 -0.0002528 -0.0001466 -0.0005363 -0.0000782 -0.0002673 -0.0000483 -0.000146 -0.000055 -0.0001363 -0.0001797 -0.0003289 -0.0000832 -0.0001273 -0.0001207 -0.0001447 -0.0001456 -0.0001666 -0.0001667 -0.0001586 -0.0001893 -0.0001646 -0.0003921 -0.0002899 -0.0012105 -0.0008346 -0.0005291 -0.0003542 -0.0011075 -0.0006991 -0.0003744 -0.000237 -0.0001036 -0.0000654 -0.0007886 -0.0004929 -0.0005643 -0.0003495 -0.0006503 -0.0004113 -0.0002921 -0.0001875 -0.0015708 -0.0009879 -0.0020793 -0.00131 -0.00324 -0.002032 -0.0002365 -0.0001425 -0.0001856 -0.0001058 -0.0002057 -0.000113 -0.0002363 -0.0001219 -0.0002367 -0.000119 -0.0002483 -0.0001173 -0.0001512 -0.0000702 -0.0001556 -0.0000681 -0.0001523 -0.0000609 -0.0001208 -0.0000447 -0.0001442 -0.0000492 -0.0001142 -0.0000369 -0.0001328 -0.0000372 -0.000147 -0.0000384 -0.0001039 -0.0000241 -0.0001323 -0.0000272 -0.000133 -0.0000243 -0.0001275 -0.0000203 -0.0001211 -0.0000167 -0.000115 -0.0000134 -0.000105 -0.0000109 -0.0001232 -0.0000109 -0.0001154 -0.0000071 -0.0001296 -0.0000054 -0.0001205 -0.000002 -0.0001219 -2e-7 -0.000117 0.0000024 -0.000107 0.0000034 -0.0001132 0.0000067 -0.0001223 0.0000083 -0.0001326 0.0000133 -0.0001325 0.0000159 -0.0001231 0.0000176 -0.0001214 0.0000195 -0.0001247 0.0000226 -0.0001415 0.0000294 -0.0001242 0.0000294 -0.0001241 0.0000321 -0.0001328 0.0000378 -0.00013 0.0000409 -0.0001349 0.0000469 -0.0001495 0.0000567 -0.0001305 0.0000546 -0.0001147 0.0000522 -0.0000935 0.000044 -0.0001301 0.0000664 -0.0001262 0.0000723 -0.0001208 0.0000711 -0.0001087 0.0000712 -0.0001111 0.0000765 -0.0001172 0.0000833 -0.000105 0.000079 -0.0002176 0.0001711 -0.0001411 0.0001141 -0.0001463 0.0001213 -0.0003023 0.000256 -0.0003535 0.0003205 -0.001104 0.0010666 -0.0004333 0.000422 -0.0003015 0.0002832 -0.0004218 0.0003507 -0.0003454 0.000257 -0.0003542 0.0002442 -0.0004168 0.0002984 -0.0012918 0.0009199 -0.0003096 0.0002203 -0.0001543 0.0001103 -0.0003132 0.0002194 -0.0002461 0.0001768 -0.0002798 0.0002007 -0.0001622 0.0001136 -0.0001568 0.0001057 -0.0002125 0.0001368 -0.0001264 0.0000787 -0.0001244 0.0000765 -0.000164 0.0000947 -0.00017 0.0000969 -0.0001589 0.0000868 -0.0002061 0.0001084 -0.0003513 0.0001809 -0.0002792 0.0001438 -0.0003487 0.0001787 -0.0003401 0.0001742 -0.0004266 0.00022 -0.0003185 0.0001647 -0.0007327 0.0003768 -0.000711 0.0003656 -0.0003157 0.0001621 -0.0002501 0.0001296 -0.0001798 0.000097 -0.0001895 0.0001085 -0.0001469 0.000089 -0.0001569 0.0001024 -0.0001426 0.0000973 -0.000214 0.0001565 -0.0001804 0.0001348 -0.0002434 0.0001821 -0.0001301 0.0000973 -0.0000877 0.0000653 -0.0000863 0.0000603 -0.0001099 0.0000765 -0.0001213 0.000082 -0.000118 0.0000722 -0.0001371 0.0000806 -0.0001191 0.0000642 -0.0001245 0.000065 -0.0001184 0.000057 -0.0001385 0.000064 -0.0001235 0.0000531 -0.0001035 0.000042 -0.0001093 0.0000418 -0.0001074 0.0000395 -0.0001222 0.0000425 -0.0001321 0.0000436 -0.0001009 0.0000307 -0.0001221 0.0000352 -0.0001226 0.0000327 -0.0001254 0.0000306 -0.0001213 0.0000277 -0.0001567 0.0000337 -0.0001286 0.000026 -0.000156 0.0000285 -0.0001617 0.0000255 -0.0001645 0.0000254 -0.0002149 0.0000295 -0.0002379 0.000028 -0.0002754 0.0000261 -0.0002817 0.0000215 -0.0002865 0.0000148 -0.0003059 0.000008 -0.0002974 0.0000029 -0.0008705 0.0000028 -0.0013447 0.0000044 -0.0010873 0.0000031 -0.0010177 0.0000044 -0.0019832 0.0000335 -0.0003652 0.0000091 -0.0007491 0.0000364 -0.0006784 0.0000525 -0.0003084 0.000031 -0.0003867 0.000043 -0.0006681 0.00009 -0.0006572 0.0001075 -0.0004422 0.0000832 -0.0006109 0.0001213 -0.0007432 0.0001471 -0.0007433 0.0001472 -0.000354 0.0000714 -0.0003608 0.0000705 -0.0002097 0.0000395 -0.0002459 0.0000438 -0.0003104 0.0000502 -0.000352 0.0000522 -0.0003654 0.0000465 -0.0002592 0.0000274 -0.0002746 0.0000282 -0.0003143 0.0000242 -0.0002704 0.0000206 -0.000367 0.0000189 -0.0003929 0.0000156 -0.0003163 0.0000163 -0.0002466 0.0000164 -0.0003013 0.0000229 -0.0002833 0.000028 -0.0002621 0.000028 -0.000263 0.0000313 -0.000233 0.0000312 -0.0002977 0.0000448 -0.0002356 0.0000366 -0.0004631 0.0000738 -0.0002318 0.0000334 -0.0002884 0.0000358 -0.0003283 0.0000327 -0.0003094 0.0000207 -0.0003418 0.0000152 -0.0003368 0.0000041 -0.0003439 -0.0000053 -0.0003274 -0.0000143 -0.0003156 -0.0000236 -0.0003117 -0.0000312 -0.0002915 -0.0000374 -0.0002668 -0.0000403 -0.0002458 -0.0000426 -0.0002227 -0.0000415 -0.0007982 -0.0001498 -0.0007981 -0.0001497 -0.0002101 -0.00004 -0.0003931 -0.0000784 -0.0059897 -0.0012696 -0.0003519 -0.0000707 -0.0002618 -0.0000471 -0.0001982 -0.0000348 -0.0007577 -0.0001282 -0.0007577 -0.0001281 -0.0002702 -0.0000457 -0.0001511 -0.0000243 -0.0001733 -0.0000257 -0.0001686 -0.0000227 -0.0001878 -0.0000193 -0.0001343 -0.0000113 -0.0001108 -0.0000065 -0.0001021 -0.0000043 -0.0001759 -0.0000037 -0.0001767 6e-7 -0.0001825 0.0000028 -0.0001927 0.0000061 -0.0004018 0.000015 -0.0001739 0.0000049 -0.0001397 0.0000022 -0.0001318 8e-7 -0.0001311 -0.0000019 -0.0001358 -0.0000041 -0.0001362 -0.0000071 -0.0001368 -0.0000108 -0.0001388 -0.0000153 -0.0001464 -0.0000208 -0.0001253 -0.0000221 -0.0001328 -0.0000269 -0.000129 -0.000031 -0.0001298 -0.0000352 -0.0001232 -0.0000379 -0.0001181 -0.0000403 -0.000122 -0.0000457 -0.0001114 -0.0000446 -0.0001084 -0.0000471 -0.0001083 -0.0000489 -0.0001703 -0.0000812 -0.0005256 -0.0002617 -0.0002105 -0.0001012 -0.0009849 -0.0004529 -0.0005029 -0.0002314 -0.0004757 -0.0002179 -0.0000493 -0.0000227 -0.0006781 -0.0003122 -0.0006782 -0.0003122 -0.0000918 -0.0000438 -0.0001072 -0.000053 -0.0001291 -0.000067 -0.0003742 -0.0002053 -0.000137 -0.0000725 -0.0001887 -0.0000915 -0.0001397 -0.0000589 -0.0001259 -0.0000456 -0.0000961 -0.0000301 -0.0000952 -0.0000261 -0.0000986 -0.0000225 -0.0001205 -0.0000237 -0.0001094 -0.0000163 -0.0000912 -0.0000103 -0.0000911 -0.0000076 -0.0001286 -0.0000058 -0.0001104 -0.0000011 -0.0001278 0.0000041 -0.0001348 0.0000087 -0.0001094 0.0000102 -0.0001136 0.000014 -0.0001061 0.0000163 -0.0000949 0.0000167 -0.0001142 0.0000234 -0.0001026 0.0000238 -0.0001633 0.0000427 -0.0001919 0.0000546 -0.000339 0.0000992 -0.0001446 0.00004 -0.000142 0.0000362 -0.0000947 0.0000225 -0.0001472 0.0000304 -0.0001227 0.0000209 -0.0001046 0.000014 -0.0000944 0.0000104 -0.0001098 0.0000079 -0.0001062 0.0000035 -0.0000743 1e-7 -0.0000801 -0.0000023 -0.0000846 -0.0000049 -0.0000794 -0.0000068 -0.0000817 -0.0000107 -0.0000921 -0.0000146 -0.0001259 -0.0000277 -0.0001024 -0.0000297 -0.0000879 -0.0000297 -0.0001063 -0.0000434 -0.0000802 -0.0000386 -0.0000854 -0.0000476 -0.0000795 -0.0000516 -0.0000698 -0.0000518 -0.0000696 -0.0000618 -0.0000631 -0.0000641 -0.0000457 -0.000056 -0.0000527 -0.000074 -0.000037 -0.0000652 -0.0000489 -0.0001045 -0.0000336 -0.000096 -0.0000328 -0.0001092 -0.0000417 -0.0001831 -0.00006 -0.0002885 -0.0000268 -0.0001567 -0.0000172 -0.0001477 -0.0000046 -0.0001097 0.0000029 -0.0001048 0.000011 -0.0001289 0.0000345 -0.0002268 0.0000145 -0.0001115 0.0000101 -0.0001522 -0.0000016 -0.0000816 -0.0000034 -0.0000792 -0.000008 -0.000099 -0.0000129 -0.0001012 -0.0000181 -0.000105 -0.0000337 -0.0001555 -0.0001146 -0.0005088 -0.000113 -0.0004962 -0.0003162 -0.0013756 -0.0000144 -0.0000757 -0.0000123 -0.000071 -0.0000093 -0.0000736 -0.0000043 -0.0000824 0.000001 -0.0000815 0.0000056 -0.0000765 0.0000103 -0.0000678 0.0000141 -0.0000661 0.0000167 -0.0000635 0.0000187 -0.0000588 0.000077 -0.000231 0.0001116 -0.0003437 0.0000348 -0.0000956 0.0000348 -0.0000804 0.0000336 -0.0000657 0.0000294 -0.0000558 0.0000446 -0.0000726 0.0000673 -0.0000994 0.0000604 -0.0000841 0.0000885 -0.0001181 0.0000872 -0.0001104 0.000079 -0.0000924 0.0000634 -0.0000714 0.0000718 -0.0000763 0.0000926 -0.0000914 0.0000808 -0.0000744 0.0001057 -0.0000923 0.0001567 -0.0001288 0.0001829 -0.0001421 0.0010129 -0.0007612 0.0012483 -0.0009383 0.0006498 -0.0004884 0.0002928 -0.0002201 0.000399 -0.0002999 0.0006312 -0.0004741 0.0001677 -0.0001197 0.0001235 -0.0000835 0.0001335 -0.0000851 0.0000537 -0.0000325 0.0000876 -0.0000529 0.0001689 -0.0000957 0.0001459 -0.0000782 0.0009559 -0.0004951 0.0009524 -0.0004961 0.0001236 -0.0000622 0.0001169 -0.0000526 0.0000753 -0.0000309 0.0000726 -0.0000269 0.0000607 -0.0000208 0.0000702 -0.0000215 0.0000655 -0.0000185 0.0000776 -0.00002 0.0000823 -0.0000192 0.0000828 -0.0000184 0.0000913 -0.0000191 0.0004185 -0.0000858 0.0001274 -0.0000247 0.0001113 -0.0000214 0.0001071 -0.0000177 0.0001233 -0.0000189 0.000106 -0.0000134 0.0001035 -0.0000108 0.000108 -0.0000082 0.0001129 -0.0000052 0.000094 -0.0000016 0.0000936 3e-7 0.0001001 0.0000027 0.0001142 0.0000068 0.000111 0.0000101 0.0001274 0.0000138 0.0001152 0.0000146 0.0001367 0.0000193 0.0005124 0.0000769 0.0001993 0.0000281 0.0001143 0.000014 0.0001129 0.0000122 0.0001099 0.0000088 0.0000937 0.0000057 0.0000945 0.0000034 0.000109 0.0000012 0.0001105 -0.000002 0.000084 -0.0000043 0.0000847 -0.0000054 0.0000883 -0.0000068 0.0001255 -0.0000123 0.0001043 -0.0000119 0.0000957 -0.0000137 0.0000847 -0.0000125 0.0001025 -0.0000171 0.0001223 -0.0000225"/>
		</svg>
		<script type="module">
			import { normalizePathData, segmentsToMercatorPath, renderPathTiles } from "./render.js";
			const pathEl = document.querySelector("path");
			const segAbs = normalizePathData(pathEl.getAttribute("d"));
			const segMerc = segmentsToMercatorPath(segAbs);
			pathEl.setAttribute("d", segMerc.flat().join(" "));
			renderPathTiles({
				pathEl,
				bandWidth: 1000,
				zoom: 16,
				tileUrl: "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
				canvas: document.getElementById("canvas"),
				landscape: false,
				normalSmoothness: 0.2
			});
		</script>
	</body>
</html>